<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script type="text/javascript">
        /**
         * Robust 404 hijacking for GitHub Pages subdirectories.
         * This script takes the current path, splits it into repo name and document path,
         * and redirects back to the project root with the path as a query parameter.
         */
        (function() {
            var l = window.location;
            var path = l.pathname;
            var segments = path.split('/').filter(Boolean);
            
            // Assume the first segment is the repository name (e.g., /personal-space/)
            var repoName = segments[0] || '';
            // The rest is the deep-linked document path (e.g., /path/to/doc.md)
            var docPath = '/' + segments.slice(1).join('/');
            
            // Reconstruct the destination URL
            // Target: https://username.github.io/repo-name/?p=/encoded-path
            var destination = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
                              '/' + repoName + '/?p=' + encodeURIComponent(docPath) +
                              (l.search ? '&q=' + l.search.slice(1).replace(/&/g, '~and~') : '') +
                              l.hash;
                              
            l.replace(destination);
        })();
    </script>
</head>
<body>
    Redirecting to project home...
</body>
</html>
